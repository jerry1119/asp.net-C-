2019-10-13 16:18:18,304 [17] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 16:18:18 +08:00

2019-10-13 16:18:18,404 [17] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[PhoneNum] AS [PhoneNum], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[CityId] AS [CityId], 
    [Extent1].[CreateDateTime] AS [CreateDateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PhoneNum] = @p__linq__0)
2019-10-13 16:18:18,404 [17] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 16:18:18,405 [17] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- p__linq__0: '' (Type = AnsiString, Size = 8000)

2019-10-13 16:18:18,405 [17] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 16:18:18 +08:00

2019-10-13 16:18:18,600 [17] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 194 ms with result: SqlDataReader

2019-10-13 16:18:18,600 [17] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 16:18:18,601 [17] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 16:18:18 +08:00

2019-10-13 16:38:09,037 [26] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 16:38:09 +08:00

2019-10-13 16:38:09,788 [26] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[PhoneNum] AS [PhoneNum], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[CityId] AS [CityId], 
    [Extent1].[CreateDateTime] AS [CreateDateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PhoneNum] = @p__linq__0)
2019-10-13 16:38:09,788 [26] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 16:38:09,789 [26] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- p__linq__0: '18580922452' (Type = AnsiString, Size = 8000)

2019-10-13 16:38:09,789 [26] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 16:38:09 +08:00

2019-10-13 16:38:09,816 [26] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 25 ms with result: SqlDataReader

2019-10-13 16:38:09,816 [26] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 16:38:09,821 [26] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 16:38:09 +08:00

2019-10-13 16:38:27,358 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 16:38:27 +08:00

2019-10-13 16:38:27,359 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[PhoneNum] AS [PhoneNum], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[CityId] AS [CityId], 
    [Extent1].[CreateDateTime] AS [CreateDateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PhoneNum] = @p__linq__0)
2019-10-13 16:38:27,359 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 16:38:27,359 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- p__linq__0: '18580922452' (Type = AnsiString, Size = 8000)

2019-10-13 16:38:27,359 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 16:38:27 +08:00

2019-10-13 16:38:27,359 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 0 ms with result: SqlDataReader

2019-10-13 16:38:27,360 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 16:38:27,360 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 16:38:27 +08:00

2019-10-13 16:38:27,364 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 16:38:27 +08:00

2019-10-13 16:38:27,388 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM [dbo].[T_Users] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PhoneNum] = @p__linq__0)
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2019-10-13 16:38:27,388 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 16:38:27,388 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- p__linq__0: '18580922452' (Type = AnsiString, Size = 8000)

2019-10-13 16:38:27,388 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 16:38:27 +08:00

2019-10-13 16:38:27,390 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 1 ms with result: SqlDataReader

2019-10-13 16:38:27,390 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 16:38:27,393 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 16:38:27 +08:00

2019-10-13 16:38:27,480 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 16:38:27 +08:00

2019-10-13 16:38:27,485 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Started transaction at 2019/10/13 16:38:27 +08:00

2019-10-13 16:38:27,570 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:INSERT [dbo].[T_Users]([PhoneNum], [PasswordHash], [PasswordSalt], [LoginErrorTimes], [LastLoginErrorDateTime], [CityId], [CreateDateTime], [IsDeleted])
VALUES (@0, @1, @2, @3, NULL, NULL, @4, @5)
SELECT [Id]
FROM [dbo].[T_Users]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2019-10-13 16:38:27,570 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 16:38:27,570 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @0: '18580922452' (Type = AnsiString, Size = 20)

2019-10-13 16:38:27,570 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @1: '6D97C345C7CFDD3060FBF2319A303921' (Type = String, Size = 100)

2019-10-13 16:38:27,570 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @2: 'y3g7y' (Type = String, Size = 20)

2019-10-13 16:38:27,570 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @3: '0' (Type = Int32)

2019-10-13 16:38:27,570 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @4: '2019/10/13 16:38:27' (Type = DateTime2)

2019-10-13 16:38:27,570 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @5: 'False' (Type = Boolean)

2019-10-13 16:38:27,570 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 16:38:27 +08:00

2019-10-13 16:38:27,906 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Failed in 335 ms with error: 不能将值 NULL 插入列 'CityId'，表 'RentHouseDb.dbo.T_Users'；列不允许有 Null 值。INSERT 失败。
语句已终止。

2019-10-13 16:38:27,929 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 16:38:27,932 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 16:38:27 +08:00

2019-10-13 16:38:27,937 [36] ERROR RentHouse.App_Start.FrontExceptionFilter - 出现未处理异常:System.Data.Entity.Infrastructure.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.Entity.Core.UpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: 不能将值 NULL 插入列 'CityId'，表 'RentHouseDb.dbo.T_Users'；列不允许有 Null 值。INSERT 失败。
语句已终止。
   在 System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   在 System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   在 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   在 System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   在 System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   在 System.Data.SqlClient.SqlDataReader.get_MetaData()
   在 System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   在 System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   在 System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   在 System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   在 System.Data.Entity.Infrastructure.Interception.DbCommandDispatcher.<Reader>b__c(DbCommand t, DbCommandInterceptionContext`1 c)
   在 System.Data.Entity.Infrastructure.Interception.InternalDispatcher`1.Dispatch[TTarget,TInterceptionContext,TResult](TTarget target, Func`3 operation, TInterceptionContext interceptionContext, Action`3 executing, Action`3 executed)
   在 System.Data.Entity.Infrastructure.Interception.DbCommandDispatcher.Reader(DbCommand command, DbCommandInterceptionContext interceptionContext)
   在 System.Data.Entity.Internal.InterceptableDbCommand.ExecuteDbDataReader(CommandBehavior behavior)
   在 System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   在 System.Data.Entity.Core.Mapping.Update.Internal.DynamicUpdateCommand.Execute(Dictionary`2 identifierValues, List`1 generatedValues)
   在 System.Data.Entity.Core.Mapping.Update.Internal.UpdateTranslator.Update()
   --- 内部异常堆栈跟踪的结尾 ---
   在 System.Data.Entity.Core.Mapping.Update.Internal.UpdateTranslator.Update()
   在 System.Data.Entity.Core.EntityClient.Internal.EntityAdapter.<Update>b__2(UpdateTranslator ut)
   在 System.Data.Entity.Core.EntityClient.Internal.EntityAdapter.Update[T](T noChangesResult, Func`2 updateFunction)
   在 System.Data.Entity.Core.EntityClient.Internal.EntityAdapter.Update()
   在 System.Data.Entity.Core.Objects.ObjectContext.<SaveChangesToStore>b__35()
   在 System.Data.Entity.Core.Objects.ObjectContext.ExecuteInTransaction[T](Func`1 func, IDbExecutionStrategy executionStrategy, Boolean startLocalTransaction, Boolean releaseConnectionOnSuccess)
   在 System.Data.Entity.Core.Objects.ObjectContext.SaveChangesToStore(SaveOptions options, IDbExecutionStrategy executionStrategy, Boolean startLocalTransaction)
   在 System.Data.Entity.Core.Objects.ObjectContext.<>c__DisplayClass2a.<SaveChangesInternal>b__27()
   在 System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.Execute[TResult](Func`1 operation)
   在 System.Data.Entity.Core.Objects.ObjectContext.SaveChangesInternal(SaveOptions options, Boolean executeInExistingTransaction)
   在 System.Data.Entity.Core.Objects.ObjectContext.SaveChanges(SaveOptions options)
   在 System.Data.Entity.Internal.InternalContext.SaveChanges()
   --- 内部异常堆栈跟踪的结尾 ---
   在 System.Data.Entity.Internal.InternalContext.SaveChanges()
   在 System.Data.Entity.Internal.LazyInternalContext.SaveChanges()
   在 System.Data.Entity.DbContext.SaveChanges()
   在 RentHouse.Services.UserService.AddNew(String phoneNum, String password) 位置 I:\Code\netCode\Projects\asp.net基础\rentHouse\RentHouse\RentHouse.Services\UserService.cs:行号 30
   在 RentHouse.Controllers.MainController.Register(RegisterModel model) 位置 I:\Code\netCode\Projects\asp.net基础\rentHouse\RentHouse\RentHouse\Controllers\MainController.cs:行号 42
   在 lambda_method(Closure , ControllerBase , Object[] )
   在 System.Web.Mvc.ActionMethodDispatcher.Execute(ControllerBase controller, Object[] parameters)
   在 System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c.<BeginInvokeSynchronousActionMethod>b__9_0(IAsyncResult asyncResult, ActionInvocation innerInvokeState)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`2.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<InvokeActionMethodFilterAsynchronouslyRecursive>b__11_0()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass11_1.<InvokeActionMethodFilterAsynchronouslyRecursive>b__2()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass11_1.<InvokeActionMethodFilterAsynchronouslyRecursive>b__2()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass7_0.<BeginInvokeActionMethodWithFilters>b__1(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass3_6.<BeginInvokeAction>b__3()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass3_1.<BeginInvokeAction>b__5(IAsyncResult asyncResult)
2019-10-13 16:38:49,106 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 16:38:49 +08:00

2019-10-13 16:38:49,107 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[PhoneNum] AS [PhoneNum], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[CityId] AS [CityId], 
    [Extent1].[CreateDateTime] AS [CreateDateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PhoneNum] = @p__linq__0)
2019-10-13 16:38:49,107 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 16:38:49,107 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- p__linq__0: '18580922452' (Type = AnsiString, Size = 8000)

2019-10-13 16:38:49,107 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 16:38:49 +08:00

2019-10-13 16:38:49,107 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 0 ms with result: SqlDataReader

2019-10-13 16:38:49,107 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 16:38:49,107 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 16:38:49 +08:00

2019-10-13 16:38:49,108 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 16:38:49 +08:00

2019-10-13 16:38:49,108 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM [dbo].[T_Users] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PhoneNum] = @p__linq__0)
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2019-10-13 16:38:49,108 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 16:38:49,108 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- p__linq__0: '18580922452' (Type = AnsiString, Size = 8000)

2019-10-13 16:38:49,108 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 16:38:49 +08:00

2019-10-13 16:38:49,108 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 0 ms with result: SqlDataReader

2019-10-13 16:38:49,108 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 16:38:49,108 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 16:38:49 +08:00

2019-10-13 16:38:49,109 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 16:38:49 +08:00

2019-10-13 16:38:49,109 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Started transaction at 2019/10/13 16:38:49 +08:00

2019-10-13 16:38:49,110 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:INSERT [dbo].[T_Users]([PhoneNum], [PasswordHash], [PasswordSalt], [LoginErrorTimes], [LastLoginErrorDateTime], [CityId], [CreateDateTime], [IsDeleted])
VALUES (@0, @1, @2, @3, NULL, NULL, @4, @5)
SELECT [Id]
FROM [dbo].[T_Users]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2019-10-13 16:38:49,110 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 16:38:49,110 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @0: '18580922452' (Type = AnsiString, Size = 20)

2019-10-13 16:38:49,110 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @1: '8BA04F93753C6B9609611BCF7F678E3C' (Type = String, Size = 100)

2019-10-13 16:38:49,110 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @2: 'yxrce' (Type = String, Size = 20)

2019-10-13 16:38:49,110 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @3: '0' (Type = Int32)

2019-10-13 16:38:49,110 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @4: '2019/10/13 16:38:49' (Type = DateTime2)

2019-10-13 16:38:49,110 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @5: 'False' (Type = Boolean)

2019-10-13 16:38:49,110 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 16:38:49 +08:00

2019-10-13 16:38:49,110 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Failed in 0 ms with error: 不能将值 NULL 插入列 'CityId'，表 'RentHouseDb.dbo.T_Users'；列不允许有 Null 值。INSERT 失败。
语句已终止。

2019-10-13 16:38:49,110 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 16:38:49,111 [36] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 16:38:49 +08:00

2019-10-13 16:38:49,111 [36] ERROR RentHouse.App_Start.FrontExceptionFilter - 出现未处理异常:System.Data.Entity.Infrastructure.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.Entity.Core.UpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: 不能将值 NULL 插入列 'CityId'，表 'RentHouseDb.dbo.T_Users'；列不允许有 Null 值。INSERT 失败。
语句已终止。
   在 System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   在 System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   在 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   在 System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   在 System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   在 System.Data.SqlClient.SqlDataReader.get_MetaData()
   在 System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   在 System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   在 System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   在 System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   在 System.Data.Entity.Infrastructure.Interception.DbCommandDispatcher.<Reader>b__c(DbCommand t, DbCommandInterceptionContext`1 c)
   在 System.Data.Entity.Infrastructure.Interception.InternalDispatcher`1.Dispatch[TTarget,TInterceptionContext,TResult](TTarget target, Func`3 operation, TInterceptionContext interceptionContext, Action`3 executing, Action`3 executed)
   在 System.Data.Entity.Infrastructure.Interception.DbCommandDispatcher.Reader(DbCommand command, DbCommandInterceptionContext interceptionContext)
   在 System.Data.Entity.Internal.InterceptableDbCommand.ExecuteDbDataReader(CommandBehavior behavior)
   在 System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   在 System.Data.Entity.Core.Mapping.Update.Internal.DynamicUpdateCommand.Execute(Dictionary`2 identifierValues, List`1 generatedValues)
   在 System.Data.Entity.Core.Mapping.Update.Internal.UpdateTranslator.Update()
   --- 内部异常堆栈跟踪的结尾 ---
   在 System.Data.Entity.Core.Mapping.Update.Internal.UpdateTranslator.Update()
   在 System.Data.Entity.Core.EntityClient.Internal.EntityAdapter.<Update>b__2(UpdateTranslator ut)
   在 System.Data.Entity.Core.EntityClient.Internal.EntityAdapter.Update[T](T noChangesResult, Func`2 updateFunction)
   在 System.Data.Entity.Core.EntityClient.Internal.EntityAdapter.Update()
   在 System.Data.Entity.Core.Objects.ObjectContext.<SaveChangesToStore>b__35()
   在 System.Data.Entity.Core.Objects.ObjectContext.ExecuteInTransaction[T](Func`1 func, IDbExecutionStrategy executionStrategy, Boolean startLocalTransaction, Boolean releaseConnectionOnSuccess)
   在 System.Data.Entity.Core.Objects.ObjectContext.SaveChangesToStore(SaveOptions options, IDbExecutionStrategy executionStrategy, Boolean startLocalTransaction)
   在 System.Data.Entity.Core.Objects.ObjectContext.<>c__DisplayClass2a.<SaveChangesInternal>b__27()
   在 System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.Execute[TResult](Func`1 operation)
   在 System.Data.Entity.Core.Objects.ObjectContext.SaveChangesInternal(SaveOptions options, Boolean executeInExistingTransaction)
   在 System.Data.Entity.Core.Objects.ObjectContext.SaveChanges(SaveOptions options)
   在 System.Data.Entity.Internal.InternalContext.SaveChanges()
   --- 内部异常堆栈跟踪的结尾 ---
   在 System.Data.Entity.Internal.InternalContext.SaveChanges()
   在 System.Data.Entity.Internal.LazyInternalContext.SaveChanges()
   在 System.Data.Entity.DbContext.SaveChanges()
   在 RentHouse.Services.UserService.AddNew(String phoneNum, String password) 位置 I:\Code\netCode\Projects\asp.net基础\rentHouse\RentHouse\RentHouse.Services\UserService.cs:行号 30
   在 RentHouse.Controllers.MainController.Register(RegisterModel model) 位置 I:\Code\netCode\Projects\asp.net基础\rentHouse\RentHouse\RentHouse\Controllers\MainController.cs:行号 42
   在 lambda_method(Closure , ControllerBase , Object[] )
   在 System.Web.Mvc.ActionMethodDispatcher.Execute(ControllerBase controller, Object[] parameters)
   在 System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c.<BeginInvokeSynchronousActionMethod>b__9_0(IAsyncResult asyncResult, ActionInvocation innerInvokeState)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`2.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<InvokeActionMethodFilterAsynchronouslyRecursive>b__11_0()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass11_1.<InvokeActionMethodFilterAsynchronouslyRecursive>b__2()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass11_1.<InvokeActionMethodFilterAsynchronouslyRecursive>b__2()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass7_0.<BeginInvokeActionMethodWithFilters>b__1(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass3_6.<BeginInvokeAction>b__3()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass3_1.<BeginInvokeAction>b__5(IAsyncResult asyncResult)
2019-10-13 16:45:13,179 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 16:45:13 +08:00

2019-10-13 16:45:13,180 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[PhoneNum] AS [PhoneNum], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[CityId] AS [CityId], 
    [Extent1].[CreateDateTime] AS [CreateDateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PhoneNum] = @p__linq__0)
2019-10-13 16:45:13,180 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 16:45:13,180 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- p__linq__0: '18580922452' (Type = AnsiString, Size = 8000)

2019-10-13 16:45:13,180 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 16:45:13 +08:00

2019-10-13 16:45:13,196 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 16 ms with result: SqlDataReader

2019-10-13 16:45:13,197 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 16:45:13,197 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 16:45:13 +08:00

2019-10-13 16:45:13,197 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 16:45:13 +08:00

2019-10-13 16:45:13,197 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM [dbo].[T_Users] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PhoneNum] = @p__linq__0)
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2019-10-13 16:45:13,197 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 16:45:13,197 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- p__linq__0: '18580922452' (Type = AnsiString, Size = 8000)

2019-10-13 16:45:13,197 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 16:45:13 +08:00

2019-10-13 16:45:13,199 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 1 ms with result: SqlDataReader

2019-10-13 16:45:13,199 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 16:45:13,199 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 16:45:13 +08:00

2019-10-13 16:45:13,199 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 16:45:13 +08:00

2019-10-13 16:45:13,199 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Started transaction at 2019/10/13 16:45:13 +08:00

2019-10-13 16:45:13,200 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:INSERT [dbo].[T_Users]([PhoneNum], [PasswordHash], [PasswordSalt], [LoginErrorTimes], [LastLoginErrorDateTime], [CityId], [CreateDateTime], [IsDeleted])
VALUES (@0, @1, @2, @3, NULL, NULL, @4, @5)
SELECT [Id]
FROM [dbo].[T_Users]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2019-10-13 16:45:13,200 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 16:45:13,200 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @0: '18580922452' (Type = AnsiString, Size = 20)

2019-10-13 16:45:13,200 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @1: 'AEDC6DB98319560D9E2164A9DC49086C' (Type = String, Size = 100)

2019-10-13 16:45:13,200 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @2: 'c43kk' (Type = String, Size = 20)

2019-10-13 16:45:13,200 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @3: '0' (Type = Int32)

2019-10-13 16:45:13,200 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @4: '2019/10/13 16:45:13' (Type = DateTime2)

2019-10-13 16:45:13,200 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @5: 'False' (Type = Boolean)

2019-10-13 16:45:13,200 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 16:45:13 +08:00

2019-10-13 16:45:13,202 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 2 ms with result: SqlDataReader

2019-10-13 16:45:13,202 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 16:45:13,214 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Committed transaction at 2019/10/13 16:45:13 +08:00

2019-10-13 16:45:13,214 [54] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 16:45:13 +08:00

2019-10-13 16:46:07,388 [46] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 16:46:07 +08:00

2019-10-13 16:46:07,389 [46] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[PhoneNum] AS [PhoneNum], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[CityId] AS [CityId], 
    [Extent1].[CreateDateTime] AS [CreateDateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PhoneNum] = @p__linq__0)
2019-10-13 16:46:07,389 [46] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 16:46:07,389 [46] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- p__linq__0: '18580922452' (Type = AnsiString, Size = 8000)

2019-10-13 16:46:07,389 [46] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 16:46:07 +08:00

2019-10-13 16:46:07,389 [46] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 0 ms with result: SqlDataReader

2019-10-13 16:46:07,389 [46] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 16:46:07,398 [46] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 16:46:07 +08:00

2019-10-13 16:48:05,588 [41] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 16:48:05 +08:00

2019-10-13 16:48:06,335 [41] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[PhoneNum] AS [PhoneNum], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[CityId] AS [CityId], 
    [Extent1].[CreateDateTime] AS [CreateDateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PhoneNum] = @p__linq__0)
2019-10-13 16:48:06,335 [41] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 16:48:06,336 [41] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- p__linq__0: '18381306936' (Type = AnsiString, Size = 8000)

2019-10-13 16:48:06,336 [41] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 16:48:06 +08:00

2019-10-13 16:48:06,339 [41] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 0 ms with result: SqlDataReader

2019-10-13 16:48:06,339 [41] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 16:48:06,343 [41] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 16:48:06 +08:00

2019-10-13 16:54:33,050 [23] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 16:54:33 +08:00

2019-10-13 16:54:33,780 [23] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[PhoneNum] AS [PhoneNum], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[CityId] AS [CityId], 
    [Extent1].[CreateDateTime] AS [CreateDateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PhoneNum] = @p__linq__0)
2019-10-13 16:54:33,780 [23] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 16:54:33,785 [23] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- p__linq__0: '18381306936' (Type = AnsiString, Size = 8000)

2019-10-13 16:54:33,785 [23] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 16:54:33 +08:00

2019-10-13 16:54:33,788 [23] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 0 ms with result: SqlDataReader

2019-10-13 16:54:33,788 [23] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 16:54:33,792 [23] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 16:54:33 +08:00

2019-10-13 17:03:40,818 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 17:03:40 +08:00

2019-10-13 17:03:40,883 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[PhoneNum] AS [PhoneNum], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[CityId] AS [CityId], 
    [Extent1].[CreateDateTime] AS [CreateDateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PhoneNum] = @p__linq__0)
2019-10-13 17:03:40,884 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 17:03:40,884 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- p__linq__0: '18580922452' (Type = AnsiString, Size = 8000)

2019-10-13 17:03:40,884 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 17:03:40 +08:00

2019-10-13 17:03:40,884 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 0 ms with result: SqlDataReader

2019-10-13 17:03:40,884 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 17:03:40,885 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 17:03:40 +08:00

2019-10-13 17:04:22,249 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 17:04:22 +08:00

2019-10-13 17:04:22,250 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[PhoneNum] AS [PhoneNum], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[CityId] AS [CityId], 
    [Extent1].[CreateDateTime] AS [CreateDateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PhoneNum] = @p__linq__0)
2019-10-13 17:04:22,250 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 17:04:22,250 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- p__linq__0: '18580922452' (Type = AnsiString, Size = 8000)

2019-10-13 17:04:22,250 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 17:04:22 +08:00

2019-10-13 17:04:22,250 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 0 ms with result: SqlDataReader

2019-10-13 17:04:22,250 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 17:04:22,250 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 17:04:22 +08:00

2019-10-13 17:04:22,266 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 17:04:22 +08:00

2019-10-13 17:04:22,275 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM [dbo].[T_Users] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PhoneNum] = @p__linq__0)
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2019-10-13 17:04:22,275 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 17:04:22,275 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- p__linq__0: '18580922452' (Type = AnsiString, Size = 8000)

2019-10-13 17:04:22,275 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 17:04:22 +08:00

2019-10-13 17:04:22,276 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 1 ms with result: SqlDataReader

2019-10-13 17:04:22,276 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 17:04:22,280 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 17:04:22 +08:00

2019-10-13 17:04:22,288 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 17:04:22 +08:00

2019-10-13 17:04:22,289 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Started transaction at 2019/10/13 17:04:22 +08:00

2019-10-13 17:04:22,294 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:INSERT [dbo].[T_Users]([PhoneNum], [PasswordHash], [PasswordSalt], [LoginErrorTimes], [LastLoginErrorDateTime], [CityId], [CreateDateTime], [IsDeleted])
VALUES (@0, @1, @2, @3, NULL, NULL, @4, @5)
SELECT [Id]
FROM [dbo].[T_Users]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2019-10-13 17:04:22,295 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 17:04:22,295 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @0: '18580922452' (Type = AnsiString, Size = 20)

2019-10-13 17:04:22,295 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @1: '720203F0C1048B1949AB2AAD396FFE3C' (Type = String, Size = 100)

2019-10-13 17:04:22,295 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @2: 'ek44y' (Type = String, Size = 20)

2019-10-13 17:04:22,295 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @3: '0' (Type = Int32)

2019-10-13 17:04:22,295 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @4: '2019/10/13 17:04:22' (Type = DateTime2)

2019-10-13 17:04:22,295 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @5: 'False' (Type = Boolean)

2019-10-13 17:04:22,295 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 17:04:22 +08:00

2019-10-13 17:04:22,295 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 0 ms with result: SqlDataReader

2019-10-13 17:04:22,295 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 17:04:22,522 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Committed transaction at 2019/10/13 17:04:22 +08:00

2019-10-13 17:04:22,522 [24] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 17:04:22 +08:00

2019-10-13 17:23:54,095 [59] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 17:23:54 +08:00

2019-10-13 17:23:54,829 [59] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[PhoneNum] AS [PhoneNum], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[CityId] AS [CityId], 
    [Extent1].[CreateDateTime] AS [CreateDateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PhoneNum] = @p__linq__0)
2019-10-13 17:23:54,829 [59] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 17:23:54,830 [59] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- p__linq__0: '18580922452' (Type = AnsiString, Size = 8000)

2019-10-13 17:23:54,830 [59] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 17:23:54 +08:00

2019-10-13 17:23:54,832 [59] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 0 ms with result: SqlDataReader

2019-10-13 17:23:54,833 [59] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 17:23:54,881 [59] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 17:23:54 +08:00

2019-10-13 17:24:01,074 [66] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 17:24:01 +08:00

2019-10-13 17:24:01,074 [66] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[PhoneNum] AS [PhoneNum], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[CityId] AS [CityId], 
    [Extent1].[CreateDateTime] AS [CreateDateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PhoneNum] = @p__linq__0)
2019-10-13 17:24:01,074 [66] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 17:24:01,075 [66] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- p__linq__0: '18580922452' (Type = AnsiString, Size = 8000)

2019-10-13 17:24:01,075 [66] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 17:24:01 +08:00

2019-10-13 17:24:01,075 [66] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 0 ms with result: SqlDataReader

2019-10-13 17:24:01,075 [66] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 17:24:01,075 [66] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 17:24:01 +08:00

2019-10-13 17:24:01,729 [61] ERROR RentHouse.App_Start.FrontExceptionFilter - 出现未处理异常:System.Web.HttpCompileException (0x80004005): C:\Windows\Microsoft.NET\Framework\v4.0.30319\Temporary ASP.NET Files\vs\7f4e2096\baf6f729\App_Web_index.cshtml.63a96023.bpappk9t.0.cs(30): error CS0234: The type or namespace name 'DTO' does not exist in the namespace 'ZSZ' (are you missing an assembly reference?)
   在 System.Web.Compilation.AssemblyBuilder.Compile()
   在 System.Web.Compilation.BuildProvidersCompiler.PerformBuild()
   在 System.Web.Compilation.BuildManager.CompileWebFile(VirtualPath virtualPath)
   在 System.Web.Compilation.BuildManager.GetVPathBuildResultInternal(VirtualPath virtualPath, Boolean noBuild, Boolean allowCrossApp, Boolean allowBuildInPrecompile, Boolean throwIfNotFound, Boolean ensureIsUpToDate)
   在 System.Web.Compilation.BuildManager.GetVPathBuildResultWithNoAssert(HttpContext context, VirtualPath virtualPath, Boolean noBuild, Boolean allowCrossApp, Boolean allowBuildInPrecompile, Boolean throwIfNotFound, Boolean ensureIsUpToDate)
   在 System.Web.Compilation.BuildManager.GetVirtualPathObjectFactory(VirtualPath virtualPath, HttpContext context, Boolean allowCrossApp, Boolean throwIfNotFound)
   在 System.Web.Compilation.BuildManager.GetCompiledType(VirtualPath virtualPath)
   在 System.Web.Compilation.BuildManager.GetCompiledType(String virtualPath)
   在 System.Web.Mvc.BuildManagerWrapper.System.Web.Mvc.IBuildManager.GetCompiledType(String virtualPath)
   在 System.Web.Mvc.BuildManagerCompiledView.Render(ViewContext viewContext, TextWriter writer)
   在 System.Web.Mvc.ViewResultBase.ExecuteResult(ControllerContext context)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionResult(ControllerContext controllerContext, ActionResult actionResult)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilterRecursive(IList`1 filters, Int32 filterIndex, ResultExecutingContext preContext, ControllerContext controllerContext, ActionResult actionResult)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilterRecursive(IList`1 filters, Int32 filterIndex, ResultExecutingContext preContext, ControllerContext controllerContext, ActionResult actionResult)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionResultWithFilters(ControllerContext controllerContext, IList`1 filters, ActionResult actionResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass3_6.<BeginInvokeAction>b__3()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass3_1.<BeginInvokeAction>b__5(IAsyncResult asyncResult)
2019-10-13 17:26:29,322 [65] ERROR RentHouse.App_Start.FrontExceptionFilter - 出现未处理异常:System.NullReferenceException: 未将对象引用设置到对象的实例。
   在 ASP._Page_Views_Main_Index_cshtml.Execute() 位置 I:\Code\netCode\Projects\asp.net基础\rentHouse\RentHouse\RentHouse\Views\Main\Index.cshtml:行号 9
   在 System.Web.WebPages.WebPageBase.ExecutePageHierarchy()
   在 System.Web.Mvc.WebViewPage.ExecutePageHierarchy()
   在 System.Web.WebPages.StartPage.RunPage()
   在 System.Web.WebPages.StartPage.ExecutePageHierarchy()
   在 System.Web.WebPages.WebPageBase.ExecutePageHierarchy(WebPageContext pageContext, TextWriter writer, WebPageRenderingBase startPage)
   在 System.Web.Mvc.RazorView.RenderView(ViewContext viewContext, TextWriter writer, Object instance)
   在 System.Web.Mvc.BuildManagerCompiledView.Render(ViewContext viewContext, TextWriter writer)
   在 System.Web.Mvc.ViewResultBase.ExecuteResult(ControllerContext context)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionResult(ControllerContext controllerContext, ActionResult actionResult)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilterRecursive(IList`1 filters, Int32 filterIndex, ResultExecutingContext preContext, ControllerContext controllerContext, ActionResult actionResult)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilterRecursive(IList`1 filters, Int32 filterIndex, ResultExecutingContext preContext, ControllerContext controllerContext, ActionResult actionResult)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionResultWithFilters(ControllerContext controllerContext, IList`1 filters, ActionResult actionResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass3_6.<BeginInvokeAction>b__3()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass3_1.<BeginInvokeAction>b__5(IAsyncResult asyncResult)
2019-10-13 17:27:53,388 [62] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 17:27:53 +08:00

2019-10-13 17:27:54,133 [62] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[CreateDateTime] AS [CreateDateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Cities] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2019-10-13 17:27:54,134 [62] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 17:27:54,134 [62] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 17:27:54 +08:00

2019-10-13 17:27:54,138 [62] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 2 ms with result: SqlDataReader

2019-10-13 17:27:54,138 [62] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 17:27:54,149 [62] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 17:27:54 +08:00

2019-10-13 17:50:56,017 [10] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 17:50:56 +08:00

2019-10-13 17:50:56,088 [10] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[PhoneNum] AS [PhoneNum], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[CityId] AS [CityId], 
    [Extent1].[CreateDateTime] AS [CreateDateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PhoneNum] = @p__linq__0)
2019-10-13 17:50:56,088 [10] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 17:50:56,089 [10] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- p__linq__0: '17828107187' (Type = AnsiString, Size = 8000)

2019-10-13 17:50:56,089 [10] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 17:50:56 +08:00

2019-10-13 17:50:56,090 [10] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 1 ms with result: SqlDataReader

2019-10-13 17:50:56,090 [10] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 17:50:56,091 [10] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 17:50:56 +08:00

2019-10-13 17:51:55,705 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 17:51:55 +08:00

2019-10-13 17:51:55,706 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[PhoneNum] AS [PhoneNum], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[CityId] AS [CityId], 
    [Extent1].[CreateDateTime] AS [CreateDateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PhoneNum] = @p__linq__0)
2019-10-13 17:51:55,706 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 17:51:55,707 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- p__linq__0: '17828107187' (Type = AnsiString, Size = 8000)

2019-10-13 17:51:55,707 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 17:51:55 +08:00

2019-10-13 17:51:55,707 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 0 ms with result: SqlDataReader

2019-10-13 17:51:55,707 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 17:51:55,707 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 17:51:55 +08:00

2019-10-13 17:51:55,713 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 17:51:55 +08:00

2019-10-13 17:51:55,740 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM [dbo].[T_Users] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PhoneNum] = @p__linq__0)
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2019-10-13 17:51:55,740 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 17:51:55,740 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- p__linq__0: '17828107187' (Type = AnsiString, Size = 8000)

2019-10-13 17:51:55,740 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 17:51:55 +08:00

2019-10-13 17:51:55,742 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 1 ms with result: SqlDataReader

2019-10-13 17:51:55,742 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 17:51:55,745 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 17:51:55 +08:00

2019-10-13 17:51:55,830 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 17:51:55 +08:00

2019-10-13 17:51:55,834 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Started transaction at 2019/10/13 17:51:55 +08:00

2019-10-13 17:51:55,917 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:INSERT [dbo].[T_Users]([PhoneNum], [PasswordHash], [PasswordSalt], [LoginErrorTimes], [LastLoginErrorDateTime], [CityId], [CreateDateTime], [IsDeleted])
VALUES (@0, @1, @2, @3, NULL, NULL, @4, @5)
SELECT [Id]
FROM [dbo].[T_Users]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2019-10-13 17:51:55,917 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 17:51:55,917 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @0: '17828107187' (Type = AnsiString, Size = 20)

2019-10-13 17:51:55,917 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @1: 'A18B2615E306867FF275EE32F92E72EE' (Type = String, Size = 100)

2019-10-13 17:51:55,917 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @2: '8frdd' (Type = String, Size = 20)

2019-10-13 17:51:55,917 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @3: '0' (Type = Int32)

2019-10-13 17:51:55,917 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @4: '2019/10/13 17:51:55' (Type = DateTime2)

2019-10-13 17:51:55,917 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @5: 'False' (Type = Boolean)

2019-10-13 17:51:55,917 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 17:51:55 +08:00

2019-10-13 17:51:55,918 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 1 ms with result: SqlDataReader

2019-10-13 17:51:55,918 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 17:51:56,039 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Committed transaction at 2019/10/13 17:51:56 +08:00

2019-10-13 17:51:56,039 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 17:51:56 +08:00

2019-10-13 18:00:23,641 [58] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 18:00:23 +08:00

2019-10-13 18:00:23,641 [58] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[CreateDateTime] AS [CreateDateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Cities] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2019-10-13 18:00:23,641 [58] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 18:00:23,641 [58] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 18:00:23 +08:00

2019-10-13 18:00:23,642 [58] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 0 ms with result: SqlDataReader

2019-10-13 18:00:23,642 [58] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 18:00:23,642 [58] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 18:00:23 +08:00

2019-10-13 18:00:34,249 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 18:00:34 +08:00

2019-10-13 18:00:34,250 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[CreateDateTime] AS [CreateDateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Cities] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2019-10-13 18:00:34,250 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 18:00:34,250 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 18:00:34 +08:00

2019-10-13 18:00:34,250 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 0 ms with result: SqlDataReader

2019-10-13 18:00:34,250 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 18:00:34,250 [6] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 18:00:34 +08:00

2019-10-13 18:00:35,649 [58] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 18:00:35 +08:00

2019-10-13 18:00:35,649 [58] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[CreateDateTime] AS [CreateDateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Cities] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2019-10-13 18:00:35,649 [58] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 18:00:35,649 [58] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 18:00:35 +08:00

2019-10-13 18:00:35,649 [58] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 0 ms with result: SqlDataReader

2019-10-13 18:00:35,649 [58] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 18:00:35,649 [58] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 18:00:35 +08:00

2019-10-13 18:00:36,861 [60] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 18:00:36 +08:00

2019-10-13 18:00:36,862 [60] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[CreateDateTime] AS [CreateDateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Cities] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2019-10-13 18:00:36,862 [60] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 18:00:36,862 [60] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 18:00:36 +08:00

2019-10-13 18:00:36,862 [60] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 0 ms with result: SqlDataReader

2019-10-13 18:00:36,862 [60] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 18:00:36,862 [60] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 18:00:36 +08:00

2019-10-13 18:17:02,597 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 18:17:02 +08:00

2019-10-13 18:17:02,681 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[PhoneNum] AS [PhoneNum], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[CityId] AS [CityId], 
    [Extent1].[CreateDateTime] AS [CreateDateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PhoneNum] = @p__linq__0)
2019-10-13 18:17:02,681 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 18:17:02,681 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- p__linq__0: '18580922452' (Type = AnsiString, Size = 8000)

2019-10-13 18:17:02,681 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 18:17:02 +08:00

2019-10-13 18:17:02,682 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 0 ms with result: SqlDataReader

2019-10-13 18:17:02,682 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 18:17:02,682 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 18:17:02 +08:00

2019-10-13 18:17:32,032 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 18:17:32 +08:00

2019-10-13 18:17:32,033 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[PhoneNum] AS [PhoneNum], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[CityId] AS [CityId], 
    [Extent1].[CreateDateTime] AS [CreateDateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PhoneNum] = @p__linq__0)
2019-10-13 18:17:32,033 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 18:17:32,033 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- p__linq__0: '18580922452' (Type = AnsiString, Size = 8000)

2019-10-13 18:17:32,033 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 18:17:32 +08:00

2019-10-13 18:17:32,034 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 0 ms with result: SqlDataReader

2019-10-13 18:17:32,034 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 18:17:32,034 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 18:17:32 +08:00

2019-10-13 18:17:32,041 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 18:17:32 +08:00

2019-10-13 18:17:32,052 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT 
    CASE WHEN ( EXISTS (SELECT 
        1 AS [C1]
        FROM [dbo].[T_Users] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PhoneNum] = @p__linq__0)
    )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C1]
    FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
2019-10-13 18:17:32,052 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 18:17:32,052 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- p__linq__0: '18580922452' (Type = AnsiString, Size = 8000)

2019-10-13 18:17:32,052 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 18:17:32 +08:00

2019-10-13 18:17:32,053 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 0 ms with result: SqlDataReader

2019-10-13 18:17:32,053 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 18:17:32,058 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 18:17:32 +08:00

2019-10-13 18:17:32,065 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 18:17:32 +08:00

2019-10-13 18:17:32,066 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Started transaction at 2019/10/13 18:17:32 +08:00

2019-10-13 18:17:32,072 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:INSERT [dbo].[T_Users]([PhoneNum], [PasswordHash], [PasswordSalt], [LoginErrorTimes], [LastLoginErrorDateTime], [CityId], [CreateDateTime], [IsDeleted])
VALUES (@0, @1, @2, @3, NULL, NULL, @4, @5)
SELECT [Id]
FROM [dbo].[T_Users]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2019-10-13 18:17:32,072 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 18:17:32,072 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @0: '18580922452' (Type = AnsiString, Size = 20)

2019-10-13 18:17:32,072 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @1: '335A85DD58C37530A7E8AF5DCDB857FD' (Type = String, Size = 100)

2019-10-13 18:17:32,072 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @2: '3c4gs' (Type = String, Size = 20)

2019-10-13 18:17:32,072 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @3: '0' (Type = Int32)

2019-10-13 18:17:32,072 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @4: '2019/10/13 18:17:32' (Type = DateTime2)

2019-10-13 18:17:32,072 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- @5: 'False' (Type = Boolean)

2019-10-13 18:17:32,072 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 18:17:32 +08:00

2019-10-13 18:17:32,073 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 0 ms with result: SqlDataReader

2019-10-13 18:17:32,073 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 18:17:32,074 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Committed transaction at 2019/10/13 18:17:32 +08:00

2019-10-13 18:17:32,074 [35] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 18:17:32 +08:00

2019-10-13 18:17:41,231 [28] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 18:17:41 +08:00

2019-10-13 18:17:41,231 [28] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[PhoneNum] AS [PhoneNum], 
    [Extent1].[PasswordHash] AS [PasswordHash], 
    [Extent1].[PasswordSalt] AS [PasswordSalt], 
    [Extent1].[LoginErrorTimes] AS [LoginErrorTimes], 
    [Extent1].[LastLoginErrorDateTime] AS [LastLoginErrorDateTime], 
    [Extent1].[CityId] AS [CityId], 
    [Extent1].[CreateDateTime] AS [CreateDateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Users] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PhoneNum] = @p__linq__0)
2019-10-13 18:17:41,231 [28] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 18:17:41,231 [28] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- p__linq__0: '18580922452' (Type = AnsiString, Size = 8000)

2019-10-13 18:17:41,231 [28] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 18:17:41 +08:00

2019-10-13 18:17:41,232 [28] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 0 ms with result: SqlDataReader

2019-10-13 18:17:41,232 [28] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 18:17:41,237 [28] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 18:17:41 +08:00

2019-10-13 18:17:41,259 [41] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Opened connection at 2019/10/13 18:17:41 +08:00

2019-10-13 18:17:41,267 [41] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[CreateDateTime] AS [CreateDateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Cities] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2019-10-13 18:17:41,267 [41] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 18:17:41,267 [41] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Executing at 2019/10/13 18:17:41 +08:00

2019-10-13 18:17:41,267 [41] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:-- Completed in 0 ms with result: SqlDataReader

2019-10-13 18:17:41,267 [41] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:

2019-10-13 18:17:41,268 [41] DEBUG RentHouse.Services.RhDbContext - EF执行Sql:Closed connection at 2019/10/13 18:17:41 +08:00

